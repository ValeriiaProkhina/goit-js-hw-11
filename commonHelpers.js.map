{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// refresh() Бібліотека містить метод [refresh()](https://github.com/andreknieriem/simplelightbox#public-methods), який обов'язково потрібно викликати щоразу після додавання нових елементів до галереї.\nconst searchForm = document.querySelector('.search-form');\nconst btnRef = document.querySelector('.btn-search');\nconst inputRef = document.querySelector('.input-search');\nconst galleryRef = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '41747369-46a857856bf510ac3748d6666';\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.query.value;\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  fetch(`${BASE_URL}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(images => {\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        close: true,\n      });\n\n      galleryRef.innerHTML = images.hits.reduce(\n        (html, img) =>\n          html +\n          `<li><a href='${img.largeImageURL}'></a><img src='${img.webformatURL}' /></li>`,\n        ''\n      );\n      lightbox.refresh();\n    })\n    .catch(error =>\n      iziToast.error({\n        message: error.message,\n        position: 'topRight',\n      })\n    );\n});\n"],"names":["searchForm","galleryRef","BASE_URL","API_KEY","event","query","searchParams","response","images","lightbox","SimpleLightbox","html","img","error","iziToast"],"mappings":"wvBAMA,MAAMA,EAAa,SAAS,cAAc,cAAc,EACzC,SAAS,cAAc,aAAa,EAClC,SAAS,cAAc,eAAe,EACvD,MAAMC,EAAa,SAAS,cAAc,UAAU,EACrC,SAAS,cAAc,SAAS,EAE/C,MAAMC,EAAW,0BACXC,EAAU,qCAEhBH,EAAW,iBAAiB,SAAUI,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,MAAM,MAC3CE,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAM,GAAGH,KAAYI,GAAc,EAChC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAU,CACd,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,MAAO,EACf,CAAO,EAEDT,EAAW,UAAYO,EAAO,KAAK,OACjC,CAACG,EAAMC,IACLD,EACA,gBAAgBC,EAAI,gCAAgCA,EAAI,wBAC1D,EACR,EACMH,EAAS,QAAO,CACtB,CAAK,EACA,MAAMI,GACLC,EAAS,MAAM,CACb,QAASD,EAAM,QACf,SAAU,UAClB,CAAO,CACP,CACA,CAAC"}